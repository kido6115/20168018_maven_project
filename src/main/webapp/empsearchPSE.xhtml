<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" template="/template.xhtml">
	<ui:define name="title">

		<h1>
			<img src="img/searchPSE.png" />
		</h1>

		<form name="form1" class="fontstyle" method="post">
			<table>
				<tr>
					<td><table>
							<tr>
								<td><input type="hidden" name="Eid" value="" /> 請假開始時間<input
									type="date" name="sdate" value="" /> <br /> <br /> 請假結束時間<input
									type="date" name="edate" value="" /> <br /> <br />

									<button class="btn btn-primary" type="submit" onClick="">
										<img src="img/interface.png" />查詢
									</button></td>
							</tr>
						</table></td>

					<td><table>
							<tr>
								<td>假別: <!-- <%
 	int k0=0;
        							int k1=0;
        							int k2=0;
        							int k3=0;
        							int k4=0;

        							if(request.getAttribute("Kind0")==null){
        								 k0=99;
        							}else {
        								 k0=Integer.parseInt((String)request.getAttribute("Kind0"));

        							}
        							if(request.getAttribute("Kind1")==null){
        								 k1=99;
        							}else {
        								 k1=Integer.parseInt((String)request.getAttribute("Kind1"));

        							}
        							if(request.getAttribute("Kind2")==null){
        								 k2=99;
        							}else {
        								 k2=Integer.parseInt((String)request.getAttribute("Kind2"));

        							}
        							if(request.getAttribute("Kind3")==null){
        								 k3=99;
        							}else {
        								 k3=Integer.parseInt((String)request.getAttribute("Kind3"));

        							}
        							if(request.getAttribute("Kind4")==null){
        								 k4=99;
        							}else {
        							 k4=Integer.parseInt((String)request.getAttribute("Kind4"));

        							}
        							
        							
        							
         	if(k0==1){
 %> --> <br /> jsp:<br /> <input type="checkbox" name="type" value="1" />事假
									<input type="checkbox" name="type" value="2" />病假 <input
									type="checkbox" name="type" value="3" />喪假 <input
									type="checkbox" name="type" value="4" />產假 <input
									type="checkbox" name="type" value="5" />特休 <br /> <br />
									假單狀態: <!-- <%
 	int s0=0;
       							int s1=0;
       							int s2=0;
       							if(request.getAttribute("Status0")==null){
       		 								 s0=99;
       		 							}else {
       		 								 s0=Integer.parseInt((String)request.getAttribute("Status0"));

       		 							}
       		 							if(request.getAttribute("Status1")==null){
       		 								 s1=99;
       		 							}else {
       		 								 s1=Integer.parseInt((String)request.getAttribute("Status1"));

       		 							}
       		 							if(request.getAttribute("Status2")==null){
       		 								 s2=99;
       		 							}else {
       		 								 s2=Integer.parseInt((String)request.getAttribute("Status2"));

       		 							}
       		 							
       		 							
       		 							
       		 						  	if(s0==1){
 %> --> <input type="checkbox" name="status" value="1" />通過 <input
									type="checkbox" name="status" value="2" />退回 <input
									type="checkbox" name="status" value="3" />待審核 <br /> <br />






									<button class="btn btn-warning" id="excel" type="submit"
										onClick="">
										<img src="img/download.png" />匯出
									</button>
								</td>
							</tr>
						</table></td>
					<td>jsf: <h:form>
							<h:selectManyCheckbox value="#{psesearch.kindConditions}">
								<f:selectItem itemLabel="事假" itemValue="1" />
								<f:selectItem itemLabel="病假" itemValue="2" />
								<f:selectItem itemLabel="喪假" itemValue="3" />
								<f:selectItem itemLabel="產假" itemValue="4" />
								<f:selectItem itemLabel="特休" itemValue="5" />
							</h:selectManyCheckbox>
							<h:selectManyCheckbox value="#{psesearch.statusConditions}">
								<f:selectItem itemLabel="通過" itemValue="1" />
								<f:selectItem itemLabel="退回" itemValue="2" />
								<f:selectItem itemLabel="待審核" itemValue="3" />
							</h:selectManyCheckbox>


							<h:commandButton value="查詢" action="#{psesearch.empPSESearch}" />
							<p:outputLabel for="popup" value="Popup:" />
							<p:calendar id="popup" value="#{psesearch.startDate}" pattern="yyyy-MM-dd" />
							<p:outputLabel for="event" value="Select Event:" />
							<p:calendar id="event" value="#{psesearch.endDate}" pattern="yyyy-MM-dd">

							</p:calendar>
						</h:form></td>

				</tr>
			</table>
		</form>
		
 <h:dataTable value="#{psesearch.searchPSEList}" var="searchpse" width="1400"
         >
         
         
         <h:column>
            <f:facet name="header">員工編號</f:facet>
           #{searchpse.eid}
         </h:column>
         <h:column>
            <f:facet name="header">員工姓名</f:facet>
            #{searchpse.name}
         </h:column>
         <h:column>
            <f:facet name="header">假單編號</f:facet>
            #{searchpse.pid}
         </h:column>
         <h:column>    				
            <f:facet name="header">假單種類</f:facet>    				
            #{searchpse.kname}
         </h:column>
         <h:column>    				
            <f:facet name="header">開始時間</f:facet>    				
            #{searchpse.starttime}
         </h:column>
         <h:column>    				
            <f:facet name="header">結束時間</f:facet>    				
            #{searchpse.endtime}
         </h:column>
          <h:column>
            <f:facet name="header">假單狀態</f:facet>
           #{searchpse.sname}
         </h:column>
      </h:dataTable>
	
		<h2></h2>

		<!-- 		<script language="javascript">
			function switchAndSubmit() {
				var formObj = document.form1;

				formObj.action = "PSEsearch_eServlet";
				formObj.submit();
				return false;
			}
			function switchAndSubmit2() {
				var formObj = document.form1;

				formObj.action = "exportServlet_E";
				formObj.submit();
				return false;
			}
		</script>
 -->


		<br />

		<form name="form4" method="post" class="fontstyle">

			<table class="CSSTableGenerator" border="1">


				<tr>
					<td>年度</td>
					<td>員工編號</td>
					<td>員工姓名</td>

					<td>假單編號</td>
					<td>假單種類</td>
					<td>開始時間</td>
					<td>結束時間</td>
					<td>假單狀態</td>

				</tr>


				<!-- 
								<%
									if(request.getAttribute("SearchList")!=null){
																																																															if(request.getAttribute("SearchList").equals("ohno")==false){

																																																															ArrayList<SearchPSE> list = (ArrayList<SearchPSE>) request.getAttribute("SearchList");
								%>

								<%
									for(SearchPSE searchPSE : list) {
								%>

 -->




				<tr>
					<td colspan="8">查無資料</td>
				</tr>


			</table>

		</form>



	</ui:define>
</ui:composition>